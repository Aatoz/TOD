<!DOCTYPE html>
	<head>
		<title>Testimony of the Day</title>
		<meta charset="UTF-8">
		<meta http-equiv="Cache-control" content="public">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

		<!-- Bootstrap core CSS -->
		<link href="bootstrap.min.css" rel="stylesheet">
		<link href="jasny-bootstrap.min.css" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="navmenu.css" rel="stylesheet">
		<link href="generic.css" rel="stylesheet">
		<link rel="stylesheet" href="theme-dark.css" rel="stylesheet" id="theme-css"> 
		<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css" id="w3-theme-css">

		<!-- You can use open graph tags to customize link previews.
		Learn more: https://developers.facebook.com/docs/sharing/webmasters -->
		<meta property="og:url"           content="https://raw.githubusercontent.com/Aatoz/TOD/master/Testimonies.html" />
		<meta property="og:type"          content="article" />
		<meta property="og:title"         content="Testimony of the Day" />
		<meta property="og:description"   content="Testimony of the Day" />
		<meta property="og:image"         content="https://raw.githubusercontent.com/Aatoz/TOD/master/cover.jpg" />

		<!-- Chrome, Firefox OS and Opera -->
		<meta name="theme-color" content="#0000ff">
		<!-- Windows Phone -->
		<meta name="msapplication-navbutton-color" content="#4285f4">
		<!-- iOS Safari -->
		<meta name="apple-mobile-web-app-status-bar-style" content="#4285f4">

		<style>
			body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
		</style>
	</head>
	<body>

 <!-- Load Facebook SDK for JavaScript -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.11';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

	<div class="navmenu navmenu-default navmenu-fixed-left offcanvas-sm w3-theme-l1">
	<a class="navmenu-brand" href="#">Menu</a>
		<ul class="nav navmenu-nav">
			<li><a href="/Browse.html">Browse</a></li>
		</ul>
		<ul class="nav navmenu-nav">
			<li><a href="../about.html/">About</a></li>
		</ul>
		<ul class="nav navmenu-nav">
			<li class="dropdown open">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Testimonies <b class="caret"></b></a>
				<ul class="dropdown-menu navmenu-nav" id="placeholderList">
					<li class="dropdown-header">By Date</li>
				</ul>
			</li>
		</ul>
		<ul class="nav navmenu-nav">
			<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Themes <b class="caret"></b></a>
				<ul class="dropdown-menu navmenu-nav">
					<li><button class="navBtn" onclick="doLight()">Light</button></li>
					<li><button class="navBtn" onclick="doDark()">Dark</button></li>
					<li class="divider"></li>
					<li class="dropdown-header">Nav header</li>
					<li><a href="#">Separated link</a></li>
				</ul>
			</li>
		</ul>
	</div>

	<div class="canvas">
		<div class="navbar navbar-default navbar-fixed-top">
			<button type="button" class="navbar-toggle" data-toggle="offcanvas" data-recalc="false" data-target=".navmenu" data-canvas=".canvas">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
		</div>
	</div>

	<!-- w3-content defines a container for fixed size centered content, 
	and is wrapped around the whole page content, except for the footer in this example -->
	<div style="max-width:1400px">

		<!-- Header -->
		<header class="w3-container w3-center w3-padding-32 w3-theme-l1"> 
			<img src="cover.jpg" alt="Cross" style="width:100%;max-height:300px;">
		</header>

		<!-- Grid -->
		<div class="w3-row w3-theme-l1">

		<!-- Blog entries -->
		<div class="w3-col l8 s12">
			<!-- Blog entry -->
			<div class="w3-card-4 w3-margin w3-theme">
				<div class="w3-container">
					<h3><b id="placeholder_Title1"></b></h3>
					<h5><span class="w3-opacity" id="placeholder_Date1"></span></h5>
				</div>

				<div class="w3-container">
					<p id="placeholder_P1"></p>
					<div class="w3-row">
						<div class="w3-col m8 s12">
							<p><button id="readMore1" class="w3-button w3-padding-large w3-border" onclick="";><b>READ MORE &#187</b></button></p>
						<!-- Your like button code -->
						<div class="fb-like" data-href="https://rawgit.com/Aatoz/TOD/master/Testimonies.html" data-layout="standard" data-action="like" data-size="large" data-show-faces="true" data-share="true" data-colorscheme="dark"></div>
						</div>
					</div>
				</div>
			</div>
			<hr>

		<!-- Blog entry -->
		<div class="w3-card-4 w3-margin w3-theme">
			<div class="w3-container">
				<h3><b id="placeholder_Title2"></b></h3>
				<h5><span class="w3-opacity" id="placeholder_Date2"></span></h5>
			</div>

			<div class="w3-container">
				<p id="placeholder_P2"></p>
				<div class="w3-row">
					<div class="w3-col m8 s12">
						<p><button id="readMore2" class="w3-button w3-padding-large w3-border" onclick="";><b>READ MORE &#187</b></button></p>
						<!-- Your like button code -->
						<div class="fb-like" data-href="https://rawgit.com/Aatoz/TOD/master/Testimonies.html" data-layout="standard" data-action="like" data-size="large" data-show-faces="true" data-share="true" data-colorscheme="dark"></div>
					</div>
				</div>
			</div>
		</div>
		<hr>

		<!-- Blog entry -->
		<div class="w3-card-4 w3-margin w3-theme">
			<div class="w3-container">
				<h3><b id="placeholder_Title3"></b></h3>
				<h5><span class="w3-opacity" id="placeholder_Date3"></span></h5>
			</div>

			<div class="w3-container">
				<p id="placeholder_P3"></p>
				<div class="w3-row">
					<div class="w3-col m8 s12">
						<p><button id="readMore3" class="w3-button w3-padding-large w3-border" onclick="";><b>READ MORE &#187</b></button></p>
						<!-- Your like button code -->
						<div class="fb-like" data-href="https://rawgit.com/Aatoz/TOD/master/Testimonies.html" data-layout="standard" data-action="like" data-size="large" data-show-faces="true" data-share="true" data-colorscheme="dark"></div>
					</div>
				</div>
			</div>
		</div>
		<hr>

			<!-- END BLOG ENTRIES -->
		</div>

		<!-- Introduction menu -->
		<div class="w3-col l4">
			<!-- About Card -->
			<div class="w3-card w3-margin w3-margin-top w3-theme">
				<img src="http://globalmedicalco.com/photos/globalmedicalco/14/68769.jpg" style="width:100%">
					<div class="w3-container header-block">
						<h4><b>Purpose</b></h4>
						<p>Power of the testimony. "Do again." Activates grace to do it again. <a href="/Statement.html">Read More...</a></p>
					</div>
			</div><hr>

			<!-- Posts -->
			<div class="w3-card w3-margin w3-theme">
				<div class="w3-container w3-padding header-block">
					<h4>Popular Posts (TODO: Have a ranking. Perhaps FB linked...)</h4>
				</div>
				<ul class="w3-ul w3-hoverable">
					<li class="w3-padding-16">
						<img src="/w3images/workshop.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px">
						<span class="w3-large">Lorem</span><br>
						<span>Sed mattis nunc</span>
					</li>
					<li class="w3-padding-16">
						<img src="/w3images/gondol.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px">
						<span class="w3-large">Ipsum</span><br>
						<span>Praes tinci sed</span>
					</li>
					<li class="w3-padding-16">
						<img src="/w3images/skies.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px">
						<span class="w3-large">Dorum</span><br>
						<span>Ultricies congue</span>
					</li>
					<li class="w3-padding-16 w3-hide-medium w3-hide-small">
						<img src="/w3images/rock.jpg" alt="Image" class="w3-left w3-margin-right" style="width:50px">
						<span class="w3-large">Mingsum</span><br>
						<span>Lorem ipsum dipsum</span>
					</li>
				</ul>
			</div>
			<hr>

			<!-- Labels / tags -->
			<div class="w3-card w3-margin w3-theme">
				<div class="w3-container w3-padding header-block">
					<h4>Tags</h4>
				</div>
				<div class="w3-container">
					<p><span class="w3-tag w3-margin-bottom">Travel</span> <span class="w3-tag w3-small w3-margin-bottom">New York</span> <span class="w3-tag w3-small w3-margin-bottom">London</span>
					<span class="w3-tag w3-small w3-margin-bottom">IKEA</span> <span class="w3-tag w3-small w3-margin-bottom">NORWAY</span> <span class="w3-tag w3-small w3-margin-bottom">DIY</span>
					<span class="w3-tag w3-small w3-margin-bottom">Ideas</span> <span class="w3-tag w3-small w3-margin-bottom">Baby</span> <span class="w3-tag w3-small w3-margin-bottom">Family</span>
					<span class="w3-tag w3-small w3-margin-bottom">News</span> <span class="w3-tag w3-small w3-margin-bottom">Clothing</span> <span class="w3-tag w3-small w3-margin-bottom">Shopping</span>
					<span class="w3-tag w3-small w3-margin-bottom">Sports</span> <span class="w3-tag w3-small w3-margin-bottom">Games</span>
					</p>
				</div>
			</div>

			<!-- END Introduction Menu -->
		</div>

		<!-- END GRID -->
		</div><br>

		<!-- END w3-content -->
	</div>

	<!-- Footer -->
	<footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">
		<button class="w3-button w3-disabled w3-padding-large w3-margin-bottom">&#171; Previous</button>
		<button class="w3-button w3-padding-large w3-margin-bottom">Next &#187</button>
		<p class="footer-subtext">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
	</footer>

		<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="jquery-1.10.2.min.js"></script>
		<script src="bootstrap.min.js"></script>
		<script src="jasny-bootstrap.min.js"></script>

		<script>

			var g_iDaysCount = 0;
			var g_iDocCount = 0;
			var g_bLoaded = false;

			if(window.attachEvent) {
				window.attachEvent('onload', onLoad);
			}
			else {
				if(window.onload) {
						var curronload = window.onload;
						var newonload = function(evt) {
								curronload(evt);
								onLoad(evt);
						};
						window.onload = newonload;
				}
				else {
						window.onload = onLoad;
				}
			}

			function onLoad()
			{
				var vDate = new Date();

				// Load the last 5 days
				for (var iCnt = 0; iCnt < 5; iCnt++)
				{
					var xhttp;
					if (window.XMLHttpRequest) {
						// code for modern browsers
						xhttp = new XMLHttpRequest();
						} else {
						// code for IE6, IE5
						xhttp = new ActiveXObject("Microsoft.XMLHTTP");
					}

					xhttp.addEventListener("error", transferFailed);
					xhttp.addEventListener("load", transferComplete);
					//xhttp.responseType = 'document';
					//xhttp.overrideMimeType('text/xml');

					xhttp.onreadystatechange = function() {
						if (this.readyState == 4 && this.status == 200) {
							parseXML(this);
						}
					};

					//  Decrement days that we load.
					var vDayOfMonth = vDate.getDate();
					vDate.setDate(vDayOfMonth - 1);

					var sDateStr = (vDate.getMonth() + 1) + '-' + vDate.getDate() + '-' +  vDate.getFullYear();

					xhttp.open('GET', 'https://rawgit.com/Aatoz/TOD/master/' + sDateStr + '.xml', true);
					console.log(sDateStr);
					xhttp.send();
				}
			}

			function parseXML(vHttp) {
				g_iDocCount++;

				vXMLDoc = vHttp.responseXML;
				console.log(vHttp.responseURL);
				console.log(vXMLDoc);

				var vHead = vXMLDoc.getElementsByTagName("meta");
				var vDate = vHead[0].getAttribute('content');

				var vListNode = document.createElement("LI");
				var vLinkNode = document.createElement("A");
				var vTextNode = document.createTextNode(vDate);
				vLinkNode.setAttribute("href", vHttp.responseURL);
				vLinkNode.appendChild(vTextNode);
				vListNode.appendChild(vLinkNode);
				document.getElementById("placeholderList").appendChild(vListNode);

				// Load preview for 1st 3 days.
				var vDate = new Date();

				//  Decrement days that we load.
				//var vDayOfMonth = vDate.getDate();
				//vDate.setDate(vDayOfMonth - 1);

				var sDateStr = (vDate.getMonth() + 1) + '-' + vDate.getDate() + '-' +  vDate.getFullYear();
				if (g_iDocCount < 4)
				{
					var sDate = vXMLDoc.getElementById("date").childNodes[0].nodeValue;
					var sTitle = vXMLDoc.getElementById("title").childNodes[0].nodeValue;
					var sPreview = vXMLDoc.getElementById("first_P").childNodes[0].nodeValue;
					var sURL = vHttp.responseURL;
					sURL = sURL.replace("xml", "html");

					console.log(g_iDocCount);
					console.log(sDate);
					console.log(sTitle);
					console.log(sPreview);
					console.log(sURL);

					document.getElementById("placeholder_Date" + g_iDocCount).textContent = sDate;
					document.getElementById("placeholder_Title" + g_iDocCount).textContent = sTitle;
					document.getElementById("placeholder_P" + g_iDocCount).textContent = sPreview;
					document.getElementById("readMore" + g_iDocCount).setAttribute('onclick', "location.href='" + sURL + "'");

					vXMLDoc = null;
				}
			}

			function transferComplete(evt) {
				//window.alert("The transfer is complete." + event.returnValue);

				g_iDaysCount++;
				g_bLoaded = g_iDaysCount === 5;
				if (g_bLoaded)
				{
					// Now add the "More..." link.
					var avNodes = [{"Divider":"Divider"}, {"sText":"More...", "href":"/Browse.html"}];
					for (var iNode = 0; iNode < avNodes.length; ++iNode) {
						var vData = avNodes[iNode];
						var bCreateLink = (vData.href !== undefined);

						var vListNode = document.createElement("LI");
						var vLinkNode = null;
						if (bCreateLink)
							vLinkNode = document.createElement("A");
						var vTextNode = document.createTextNode(vData.sText);

						if (bCreateLink)
						{
							vLinkNode.setAttribute("href", vData.href);
							vLinkNode.appendChild(vTextNode);
							vListNode.appendChild(vLinkNode);
						}
						else vListNode.setAttribute("class", "divider");

						document.getElementById("placeholderList").appendChild(vListNode);
					}
				}
			}

			function transferFailed(evt) {
				window.alert("An error occurred while transferring the file.");
			}

			function doLight()
			{
				var vW3ThemeNode = document.getElementById("w3-theme-css");
				var vThemeNode = document.getElementById("theme-css");
				vW3ThemeNode.href = ""
				vThemeNode.href = "theme-light.css"
			}

			function doDark()
			{
				var vW3ThemeNode = document.getElementById("w3-theme-css");
				var vThemeNode = document.getElementById("theme-css");
				vW3ThemeNode.href = "https://www.w3schools.com/lib/w3-theme-black.css"
				vThemeNode.href = "theme-dark.css"
			}
		</script>

	</body>
</html>
